<aside class="sidebar" [class.collapsed]="isCollapsed">
  <!-- Botón de colapsar/expandir -->
  <button class="collapse-btn" (click)="toggleCollapse()">
    <i-lucide [name]="isCollapsed ? 'chevron-right' : 'chevron-left'" [size]="20"></i-lucide>
  </button>

  <!-- Navegación Principal -->
  <nav class="sidebar-nav">
    <div class="nav-section">
      <p class="nav-section-title" *ngIf="!isCollapsed">Principal</p>
      
      <!-- Dashboard -->
      <a 
        routerLink="/dashboard" 
        routerLinkActive="active"
        class="nav-item"
        [title]="isCollapsed ? 'Dashboard' : ''"
      >
        <i-lucide name="layout-dashboard" [size]="22"></i-lucide>
        <span class="nav-text" *ngIf="!isCollapsed">Dashboard</span>
      </a>

      <!-- Citas -->
      <a 
        routerLink="/citas" 
        routerLinkActive="active"
        class="nav-item"
        [title]="isCollapsed ? 'Citas' : ''"
      >
        <i-lucide name="Calendar" [size]="22"></i-lucide>
        <span class="nav-text" *ngIf="!isCollapsed">Citas</span>
      </a>

      <!-- Clientes-->
      <a 
        routerLink="/clientes" 
        routerLinkActive="active"
        class="nav-item"
        [title]="isCollapsed ? 'Clientes' : ''"
      >
        <i-lucide name="user" [size]="22"></i-lucide>
        <span class="nav-text" *ngIf="!isCollapsed">Clientes</span>
      </a>

      <!-- Reportes -->
      <a 
        routerLink="/reportes" 
        routerLinkActive="active"
        class="nav-item"
        [title]="isCollapsed ? 'Reportes' : ''"
      >
        <i-lucide name="chart-no-axes-combined" [size]="22"></i-lucide>
        <span class="nav-text" *ngIf="!isCollapsed">Reportes</span>
      </a>

      <!-- Usuarios (Solo Admin) -->
      <a 
        routerLink="/usuarios" 
        routerLinkActive="active"
        class="nav-item"
        [title]="isCollapsed ? 'Usuarios' : ''"
      >
        <i-lucide name="users" [size]="22"></i-lucide>
        <span class="nav-text" *ngIf="!isCollapsed">Usuarios</span>
      </a>
    </div>
    
    <!-- Sección de Configuración y Ayuda -->
    <div class="nav-section nav-section-bottom">
      <div class="divider-dorado"></div>

      <!-- Configuración -->
      <a 
        routerLink="/configuracion" 
        routerLinkActive="active"
        class="nav-item"
        [title]="isCollapsed ? 'Configuración' : ''"
      >
        <i-lucide name="settings" [size]="22"></i-lucide>
        <span class="nav-text" *ngIf="!isCollapsed">Configuración</span>
      </a>

      <!-- Ayuda -->
      <a 
        routerLink="/ayuda" 
        routerLinkActive="active"
        class="nav-item"
        [title]="isCollapsed ? 'Ayuda' : ''"
      >
        <i-lucide name="help-circle" [size]="22"></i-lucide>
        <span class="nav-text" *ngIf="!isCollapsed">Ayuda</span>
      </a>
    </div>
  </nav>

  <!-- Footer del Sidebar -->
  <div class="sidebar-footer" *ngIf="!isCollapsed">
    <!-- Perfil del Usuario -->
    <div class="footer-user" *ngIf="currentUser">
      <div class="user-avatar">
        <i-lucide [name]="getUserIcon()" [size]="28"></i-lucide>
      </div>
      <div class="user-info">
        <div class="user-name">{{ currentUser.nombreCompleto || 'Usuario' }}</div>
        <div class="user-role">{{ getRolTexto() }}</div>
      </div>
    </div>

    <!-- Botón de Logout -->
    <button 
      class="btn-logout" 
      (click)="cerrarSesion()"
      title="Cerrar Sesión">
      <i-lucide name="log-out" [size]="20"></i-lucide>
      <span>Cerrar Sesión</span>
    </button>

    <!-- Sistema Seguro Badge -->
    <div class="footer-badge">
      <i-lucide name="shield-check" [size]="16"></i-lucide>
      <span>Sistema Seguro SSL</span>
    </div>
  </div>
</aside>